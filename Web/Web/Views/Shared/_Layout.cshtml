@using System.Web.Mvc.Html
@using Web
<!DOCTYPE html>
<html>
    <head>
        <title>@ViewBag.Title</title>
        <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />        
        <link href='http://fonts.googleapis.com/css?family=Anaheim' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="../../Content/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="../../Content/list.min.js"></script>        

        <script id="scriptInit" type="text/javascript">
            $(document).ready(function () {
                $("#success").fadeIn("slow").delay(1000).fadeOut("slow");
            });
        </script>

    </head>

    <body>
        @Html.Partial("Partials/FacebookSDK")

        <div class="top-container">
            <div class="container">            
                <div class="top-menu">                                            
                    <span>Goal Setter</span>
                    @if (Context.Account().IsLoggedIn) {
                        <p>Welcome @Context.Account().Data.FirstName</p>
                        <img src="@Context.Account().Data.Picture" />
                    }                                        
                    <ul>
                        <li>Accounts @Html.ActionLink("New", "Create", "Accounts")</li>
                        @if (!Context.Account().IsLoggedIn)
                        {
                            <li>Sign In @Html.ActionLink("Normal", "Index", "Login") | @Html.ActionLink("Facebook", "FacebookLogin", "Login")</li>
                            <li>@Html.ActionLink("Unconfirmed Accounts", "Index", "UnconfirmedAccounts")</li>
                            <li>@Html.ActionLink("Login As", "AllAccounts", "Login")</li>
                        }
                        else
                        {
                            <li>My Account <a href ="@Url.Action("Update", "Accounts", new { id = Context.Account().Data.Id })">Update</a> | @Html.ActionLink("Friends", "Listing", "MyFriends")</li>                            
                            <li>Goals @Html.ActionLink("New", "Create", "Goals") | @Html.ActionLink("View", "Listing", "Goals")</li>
                            <li>Friends @Html.ActionLink("Invite", "Invite", "Friends")</li>
                            <li>@Html.ActionLink("Sign Out", "Index", "Logout")</li>
                        }
                        
                    </ul>
                </div>
                
                @Html.DisplayFor(x => TempData["SuccessMessage"])
                @Html.DisplayFor(x => TempData["ErrorMessage"])

                @RenderBody()
            </div>
        </div>
    </body>
</html>
